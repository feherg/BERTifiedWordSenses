import glob
import pandas as pd
import argparse

def view_results(path):
    for alg in ["hdbs", "skm", "fuzzycm"]:
        print("-"*5 + alg + "-"*5)
        all_files = glob.glob(path + "/*{}.csv".format(alg))

        l = []

        for filename in all_files:
            df = pd.read_csv(filename, index_col=None, header=0, sep=";")
            df["file"] = filename.split("/")[-1].split("_" + alg + ".csv")[0]
            l.append(df)

        res = pd.concat(l, axis=0, ignore_index=True)
        print("Average performance:")
        print(res.groupby(["file", "k"]).mean().round(3))
        print("")
        print("Standard deviation:")
        print(res.groupby(["file", "k"]).std().round(3))
        print("")


if __name__ == "__main__":
    parser = argparse.ArgumentParser(description='View results generated by cluster_analysis.py')
    parser.add_argument('-p', '--path', type=str, help='Path to evaluation files.', default="./eval")
    args = parser.parse_args()

    view_results(args.path)

